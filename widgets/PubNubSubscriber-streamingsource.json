{
  "metadata": {
    "spec-version": "1.6"
  },
  "display-name": "PubNub Subscriber",
  "configuration-groups": [
    {
      "label": "Basic",
      "properties": [
        {
          "widget-type": "textbox",
          "label": "Reference Name",
          "name": "referenceName",
          "widget-attributes": {
            "placeholder": "Name used to identify this sink for lineage"
          }
        },
        {
          "label": "Channels",
          "name": "channels",
          "widget-type": "dsv",
          "widget-attributes": {
            "delimiter": ","
          }
        },
        {
          "widget-type": "textbox",
          "label": "Subscriber Key",
          "name": "subscriber-key",
          "widget-attributes": {
            "placeholder": "Subscriber key configured for channels"
          }
        }
      ]
    },
    {
      "label": "Advanced",
      "properties": [
        {
          "widget-type": "textbox",
          "label": "Filter Expression",
          "name": "filer-expression",
          "widget-attributes": {
            "default": "(price > 100.00 && channel == 'AAPL') || (price < 15.00 && channel == 'GOOG')"
          }
        },
        ,
        {
          "widget-type": "textbox",
          "label": "Connection Timeout",
          "name": "connection-timeout"
        }
      ]
    }
  ],
  "outputs": [
    {
      "name": "schema",
      "widget-type": "schema",
      "widget-attributes": {
        "default-schema": {
          "name": "subscriber",
          "type": "record",
          "fields": [
            {
              "name": "timetoken",
              "type": "long"
            },
            {
              "name": "channel",
              "type": ["string", null]
            },
            {
              "name": "publisher",
              "type": ["string", null]
            },
            {
              "name": "payload",
              "type": ["string", null]
            }
          ]
        },
        "schema-default-type": "string",
        "property-watch": "format"
      }
    }
  ]
}
